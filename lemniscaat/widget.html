<!doctype html>
<meta charset="utf-8">
<title>AME Lemniscaat Widget</title>
<style>
  html,body{margin:0;height:100%}
  body{display:flex;font-family:sans-serif;overflow:hidden}
  iframe{flex:1;border:0}
</style>
<body>
  <!-- Links: IMAGE -->
  <iframe id="imgFrame"
    src="https://bramdhontsr.github.io/ame-rasp-poe/widgets/image.html?n=42&L=8&v=5"></iframe>

  <!-- Rechts: SLIDERS -->
  <iframe id="uiFrame"
    src="https://bramdhontsr.github.io/ame-rasp-poe/widgets/sliders.html?v=5"></iframe>

  <script>
    // vind het window-object van de image-iframe
    const imgWin = document.getElementById('imgFrame').contentWindow;

    // luister naar berichten van de sliders-iframe en stuur door naar image-iframe
    window.addEventListener('message', (ev) => {
      if (ev.data && ev.data.type === 'paramsUpdate') {
        // optioneel: console.log('bridge ->', ev.data);
        imgWin.postMessage(ev.data, '*');
      }
    });
  </script>
</body>
