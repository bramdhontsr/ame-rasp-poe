<!doctype html>
<meta charset="utf-8">
<title>Canvas Widget</title>
<canvas id="canvas" width="256" height="256"></canvas>
<script>
const canvas = document.getElementById("canvas");
const ctx = canvas.getContext("2d");

function draw(r=128, g=128, b=128) {
  const imgData = ctx.createImageData(canvas.width, canvas.height);
  for (let i = 0; i < imgData.data.length; i += 4) {
    imgData.data[i]   = r;
    imgData.data[i+1] = g;
    imgData.data[i+2] = b;
    imgData.data[i+3] = 255;
  }
  ctx.putImageData(imgData, 0, 0);
}
draw();

// Luisteren naar slider-updates
window.addEventListener("message", (event) => {
  if (event.data.type === "colorUpdate") {
    const { r, g, b } = event.data;
    draw(r, g, b);
  }
});
</script>
"@ | Out-File -Encoding utf8 widgets\image.html

# sliders.html (3 schuifregelaars)
@"
<!doctype html>
<meta charset="utf-8">
<title>Sliders Widget</title>
<style>
  body { font-family: sans-serif; padding: 1em; }
  label { display: block; margin: 0.5em 0; }
</style>
<label>Rood: <input type="range" id="r" min="0" max="255" value="128"></label>
<label>Groen: <input type="range" id="g" min="0" max="255" value="128"></label>
<label>Blauw: <input type="range" id="b" min="0" max="255" value="128"></label>
<script>
function sendUpdate() {
  const r = document.getElementById("r").value;
  const g = document.getElementById("g").value;
  const b = document.getElementById("b").value;
  parent.postMessage({ type: "colorUpdate", r: +r, g: +g, b: +b }, "*");
}
document.querySelectorAll("input").forEach(inp => {
  inp.addEventListener("input", sendUpdate);
});
</script>
